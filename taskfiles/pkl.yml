version: "3"

vars:
  VERSION:
    sh: git describe --tags --abbrev=0
  COMMIT:
    sh: git rev-parse --short HEAD
  ROOT:
    sh: git rev-parse --show-toplevel
  OS:
    sh: uname -s
  TASKS:
    sh: task -l
tasks:
  pkl:gen:
    desc: Generate PKL files
    silent: true
    cmds:
      - pkl-gen-go pkl/sonr.orm/UCAN.pkl
      - pkl-gen-go pkl/sonr.net/Hway.pkl
      - pkl-gen-go pkl/sonr.net/Motr.pkl
